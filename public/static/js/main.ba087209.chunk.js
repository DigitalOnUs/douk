(this.webpackJsonpplot=this.webpackJsonpplot||[]).push([[0],{25:function(e,t,n){e.exports=n(51)},30:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),l=n(10),s=(n(30),n(9)),i=n.n(s),u=n(12),p=n(15),m=n(4),b=n(5),h=n(7),d=n(6),f=n(8),x=n(11),v=r.a.createContext(),y="border-l border-t border-r rounded-t text-blue-700",O="bg-white inline-block py-2 px-4 text-blue-500 hover:text-blue-800 font-semibold",g=function(e,t){return j(e,t)?"-mb-px":""},j=function(e,t){return e===t},E=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){return n.context.embed?null:e.preventDefault()},n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname,t=this.context.embed?O:"bg-white inline-block py-2 px-4 text-gray-400 cursor-not-allowed";return r.a.createElement("ul",{className:"flex border-b"},r.a.createElement("li",{className:"mr-1 ".concat(g("/uploadData",e))},r.a.createElement(l.b,{className:O,to:"/uploadData",activeClassName:y},"Upload Data")),r.a.createElement("li",{className:"mr-1 ".concat(g("/connections",e))},r.a.createElement(l.b,{className:t,to:"/connections",activeClassName:y,onClick:this.handleClick},"Connections")),r.a.createElement("li",{className:"mr-1 ".concat(g("/infrastructure",e))},r.a.createElement(l.b,{className:t,to:"/infrastructure",activeClassName:y,onClick:this.handleClick},"Infrastructure")))}}]),t}(r.a.Component);E.contextType=v;var w=Object(x.g)(E),k={height:"90vh"},C=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:k},r.a.createElement("iframe",{width:"100%",height:"100%",title:"Arcentry embed",src:this.context.embed}))}}]),t}(r.a.Component);C.contextType=v;var N=C,S=n(23),D=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={nodes:[],edges:[]},n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gist.githubusercontent.com/pitakill/36d6d229dad53e8e9c13a1872a87f66d/raw/416a75d2a9448e284c17c1f82c21b480036c0187/gistfile1.txt");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{renderer:"canvas"}))}}]),t}(r.a.Component),P=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Connections"),r.a.createElement(D,null))},T=n(24),A=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=Object(T.a)(e.target.files,1)[0];if("application/json"!==t.type&&".hcl"!==t.name.match(/\.[0-9a-z]+$/i)[0])return n.context.setState("extension",""),void n.context.setState("text","");var a=t.type?".json":".hcl";n.context.setState("extension",a);var r=new FileReader;r.onload=function(){n.context.setState("text",r.result)},r.readAsText(t)},n.handleChangeTA=function(e){return n.context.setState("text",e.target.value)},n.handleSubmit=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.context.sendData();case 3:n.props.history.push("/infrastructure");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"w-full max-w-xl mx-auto p-8",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"flex items-center border-b border-b-2 border-teal-500 py-2"},r.a.createElement("input",{type:"file",className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",onChange:this.handleChange})),this.context.extension?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex items-center py-2"},r.a.createElement("textarea",{className:"resize-y appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none rounded",onChange:this.handleChangeTA,value:this.context.text,style:this.context.text?{height:"50vh"}:null})),r.a.createElement("div",{className:"flex items-center py-2"},r.a.createElement("button",{className:"w-full flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",type:"submit"},"Upload File"))):null)}}]),t}(r.a.Component);A.contextType=v;var F=Object(x.g)(A);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var J={marginTop:"3vh"},I=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={embed:"",text:"",extension:""},n.setStateWrapper=function(e,t){return n.setState(Object(p.a)({},e,t))},n.sendData=Object(u.a)(i.a.mark((function e(){var t,a,r,c,o,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,a=t.extension,r=t.text,e.next=4,fetch("/api/consulize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({extension:a,payload:window.btoa(r)})});case 4:return c=e.sent,e.next=7,c.json();case 7:if(o=e.sent,l=o.success,s=o.url,l){e.next=12;break}throw Error("problem with the petition to arcentry");case 12:return e.next=14,n.setState({embed:s});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{sendData:this.sendData,setState:this.setStateWrapper});return r.a.createElement(v.Provider,{value:e},r.a.createElement("div",{className:"container mx-auto",style:J},r.a.createElement(w,null),r.a.createElement(x.d,null,r.a.createElement(x.b,{path:"/uploadData"},r.a.createElement(F,null)),r.a.createElement(x.b,{path:"/infrastructure"},r.a.createElement(N,null)),r.a.createElement(x.b,{path:"/connections"},r.a.createElement(P,null)),r.a.createElement(x.a,{from:"/",to:"/uploadData"}))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(l.a,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.ba087209.chunk.js.map