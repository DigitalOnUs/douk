{"version":3,"sources":["Context.jsx","Menu.jsx","Infrastructure.jsx","Graph.jsx","Connections.jsx","UploadData.jsx","App.jsx","index.jsx"],"names":["Context","React","createContext","activeClassName","defaultClassName","activeClassNameWrapper","page","location","isActive","Menu","handleClick","e","context","embed","preventDefault","pathname","this","props","className","to","onClick","Component","contextType","withRouter","styles","height","Infrastructure","style","width","title","src","Graph","state","nodes","edges","fetch","response","json","data","console","log","renderer","Connections","UploadData","handleChange","file","target","files","type","name","match","setState","extension","reader","FileReader","onload","result","readAsText","handleChangeTA","value","handleSubmit","a","sendData","history","push","onSubmit","onChange","text","marginTop","App","setStateWrapper","property","method","headers","body","JSON","stringify","payload","window","btoa","success","url","Error","error","Provider","path","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba087209.chunk.js","sourcesContent":["import React from 'react'\n\nconst Context = React.createContext()\n\nexport default Context\n","import React from 'react'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport Context from './Context'\n\nconst activeClassName = 'border-l border-t border-r rounded-t text-blue-700'\nconst defaultClassName = 'bg-white inline-block py-2 px-4 text-blue-500 hover:text-blue-800 font-semibold'\nconst disabledClassName = 'bg-white inline-block py-2 px-4 text-gray-400 cursor-not-allowed'\nconst activeClassNameWrapper = (page, location) => isActive(page, location) ? '-mb-px' : ''\nconst isActive = (page, location) => page === location\n\nclass Menu extends React.Component {\n  static contextType = Context\n\n  handleClick = e => this.context.embed ? null : e.preventDefault()\n\n  render() {\n    const { location: { pathname }} = this.props\n    const className = this.context.embed ? defaultClassName : disabledClassName\n\n    return (\n      <ul className=\"flex border-b\">\n        <li className={`mr-1 ${activeClassNameWrapper('/uploadData', pathname)}`}>\n          <NavLink\n            className={defaultClassName}\n            to=\"/uploadData\"\n            activeClassName={activeClassName}\n          >\n            Upload Data\n          </NavLink>\n        </li>\n        <li className={`mr-1 ${activeClassNameWrapper('/connections', pathname)}`}>\n          <NavLink\n            className={className}\n            to=\"/connections\"\n            activeClassName={activeClassName}\n            onClick={this.handleClick}\n          >\n            Connections\n          </NavLink>\n        </li>\n        <li className={`mr-1 ${activeClassNameWrapper('/infrastructure', pathname)}`}>\n          <NavLink\n            className={className}\n            to=\"/infrastructure\"\n            activeClassName={activeClassName}\n            onClick={this.handleClick}\n          >\n            Infrastructure\n          </NavLink>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default withRouter(Menu)\n","import React from 'react'\nimport Context from './Context'\n\nconst styles = {\n  height: '90vh',\n}\n\nclass Infrastructure extends React.Component {\n  static contextType = Context\n\n  render() {\n    return (\n      <div style={styles}>\n        <iframe\n          width=\"100%\"\n          height=\"100%\"\n          title=\"Arcentry embed\"\n          src={this.context.embed}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Infrastructure\n","import React from 'react'\nimport { Sigma } from 'react-sigma'\n\nconst URL = 'https://gist.githubusercontent.com/pitakill/36d6d229dad53e8e9c13a1872a87f66d/raw/416a75d2a9448e284c17c1f82c21b480036c0187/gistfile1.txt'\n\nclass Graph extends React.Component {\n  state = {\n    nodes: [],\n    edges: [],\n  }\n\n  async componentDidMount() {\n    const response = await fetch(URL)\n    const data = await response.json()\n\n    console.log(data)\n  }\n\n  render() {\n    return (\n      <>\n        <Sigma renderer=\"canvas\">\n        </Sigma>\n      </>\n    )\n  }\n}\n\nexport default Graph\n","import React from 'react'\nimport Graph from './Graph'\n\nconst Connections = props =>\n  <>\n    <h1>Connections</h1>\n    <Graph />\n  </>\n\nexport default Connections\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Context from './Context'\n\nclass UploadData extends React.Component {\n  static contextType = Context\n\n  handleChange = e => {\n    const [file] = e.target.files\n\n    if (!(file.type === 'application/json' || file.name.match(/\\.[0-9a-z]+$/i)[0] === '.hcl')) {\n      this.context.setState('extension', '')\n      this.context.setState('text', '')\n      return\n    }\n\n    const extension = file.type ? '.json' : '.hcl'\n\n    this.context.setState('extension', extension)\n\n    const reader = new FileReader()\n    reader.onload = () => {\n      this.context.setState('text', reader.result)\n    }\n\n    reader.readAsText(file)\n  }\n\n  handleChangeTA = e => this.context.setState('text', e.target.value)\n\n  handleSubmit = async e => {\n    e.preventDefault()\n\n    await this.context.sendData()\n    this.props.history.push('/infrastructure')\n  }\n\n  render() {\n    return (\n      <form className=\"w-full max-w-xl mx-auto p-8\" onSubmit={this.handleSubmit}>\n        <div className=\"flex items-center border-b border-b-2 border-teal-500 py-2\">\n          <input type=\"file\" className=\"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none\" onChange={this.handleChange} />\n        </div>\n          {\n            this.context.extension\n            ? <>\n                <div className=\"flex items-center py-2\">\n                  <textarea className=\"resize-y appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none rounded\" onChange={this.handleChangeTA} value={this.context.text} style={ this.context.text ? {height: '50vh'} : null }/>\n                </div>\n                <div className=\"flex items-center py-2\">\n                  <button className=\"w-full flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded\" type=\"submit\">\n                    Upload File\n                  </button>\n                </div>\n              </>\n            : null\n          }\n      </form>\n    )\n  }\n}\n\nexport default withRouter(UploadData)\n","import React from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport Context from './Context'\nimport Menu from './Menu'\nimport Infrastructure from './Infrastructure'\nimport Connections from './Connections'\nimport UploadData from './UploadData'\n\nconst styles = {\n  marginTop: '3vh',\n}\n\nclass App extends React.Component {\n  state = {\n    embed: '',\n    text: '',\n    extension: '',\n  }\n\n  setStateWrapper = (property, value) => this.setState({ [property]: value })\n\n  sendData = async () => {\n    try {\n      const { extension, text } = this.state\n      const response = await fetch('/api/consulize', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n          body: JSON.stringify({ extension, payload: window.btoa(text) }),\n      })\n      const { success, url } = await response.json()\n      if (!success) throw Error('problem with the petition to arcentry')\n\n      await this.setState({ embed: url })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  render() {\n    const context = {\n      ...this.state,\n      sendData: this.sendData,\n      setState: this.setStateWrapper,\n    }\n\n    return (\n      <Context.Provider value={context}>\n        <div className='container mx-auto' style={styles}>\n          <Menu />\n          <Switch>\n            <Route path='/uploadData'>\n              <UploadData />\n            </Route>\n            <Route path='/infrastructure'>\n              <Infrastructure />\n            </Route>\n            <Route path='/connections'>\n              <Connections />\n            </Route>\n            <Redirect from='/' to='/uploadData' />\n          </Switch>\n        </div>\n      </Context.Provider>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom'\nimport './styles/tailwind.css';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}